[[jc-authorize-requests]]
== 授权请求
我们的示例仅要求对用户进行身份验证，并且对应用程序中的每个URL都进行了身份验证。 通过将多个子代添加到我们的 `http.authorizeRequests()` 方法中，我们可以为URL指定自定义要求。 例如：

[source,java]
----
protected void configure(HttpSecurity http) throws Exception {
	http
		.authorizeRequests(authorizeRequests ->                                        // <1>
		    authorizeRequests
			    .antMatchers("/resources/**", "/signup", "/about").permitAll()         // <2>
			    .antMatchers("/admin/**").hasRole("ADMIN")                             // <3>
			    .antMatchers("/db/**").access("hasRole('ADMIN') and hasRole('DBA')")   // <4>
			    .anyRequest().authenticated()                                          // <5>
		)
		.formLogin(withDefaults());
}
----

<1>  `http.authorizeRequests()` 方法有多个子类，每个子类都按照声明它们的顺序考虑。
<2> 我们指定了任何用户都可以访问的多个URL模式。 具体来说，如果URL以 "/resources/" 开头，等于 "/signup" 或等于 "/about"，则任何用户都可以访问请求。
<3> 以 `"/admin/"` 开头的任何URL都将限于角色为 `ROLE_ADMIN` 的用户。 您将注意到，由于我们正在调用 `hasRole` 方法，因此无需指定 `ROLE_` 前缀。
<4> 任何以 "/db/" 开头的URL都要求用户同时具有 "ROLE_ADMIN" 和 "ROLE_DBA"。 您会注意到，由于我们使用的是 `hasRole` 表达式，因此不需要指定 "ROLE_" 前缀。
<5> 任何尚未匹配的URL仅要求对用户进行身份验证
