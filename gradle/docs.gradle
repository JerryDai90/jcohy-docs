
//task downloadResources(type: Download) {
//	def version = "0.1.3.RELEASE"
//	src "https://repo.spring.io/release/io/spring/docresources/" +
//			"spring-doc-resources/$version/spring-doc-resources-${version}.zip"
//	dest project.file("$buildDir/docs/spring-doc-resources.zip")
//	onlyIfModified true
//	useETag "all"
//}
//
//task extractDocResources(type: Copy, dependsOn: downloadResources) {
//	from project.zipTree(downloadResources.dest);
//	into "$buildDir/docs/spring-docs-resources/"
//}

/**
 * Produce the Spring Framework Reference documentation
 * from "src/docs/asciidoc" into  "build/asciidoc/html5"
 */

asciidoctor {

	def language = "en-us"
	def component = "spring-framework"
	sources {
		include "${language}/${component}/*.adoc"
	}
//	setSourceDir("")
	outputDir "$buildDir/docs/ref-docs/"
	resources {
		from(sourceDir) {
			include "${language}/${component}/images/*", "${language}/${component}/css/**", "${language}/${component}/js/**"
		}
//		from "$buildDir/docs/spring-docs-resources/"
	}
	logDocuments = true
	backends = ["html5"]

	options doctype: 'book', eruby: 'erubis'
	attributes([
			icons: 'font',
			idprefix: '',
			idseparator: '-',
			docinfo: 'shared',
			revnumber: '5.2.1.RELEASE',
			sectanchors: '',
			sectnums: '',
			'source-highlighter': 'highlight.js',
			highlightjsdir: "./js/highlight",
			'highlightjs-theme': 'github',
			stylesdir: './css/',
			stylesheet: 'stylesheet.css',
			'spring-version': '5.2.1.RELEASE'
	])
}

asciidoctor {

	def language = "zh-cn"
	def component = "spring-security"
	sources {
		include "${language}/${component}/*.adoc"
	}
//	setSourceDir("")
	outputDir "$buildDir/docs/ref-docs/"
	resources {
		from(sourceDir) {
			include "${language}/${component}/images/*", "${language}/${component}/css/**", "${language}/${component}/js/**"
		}
//		from "$buildDir/docs/spring-docs-resources/"
	}
	logDocuments = true
	backends = ["html5"]

	options doctype: 'book', eruby: 'erubis'
	attributes([
			icons: 'font',
			idprefix: '',
			idseparator: '-',
			docinfo: 'shared',
			revnumber: '5.2.2.RELEASE',
			sectanchors: '',
			sectnums: '',
			'source-highlighter': 'highlight.js',
			highlightjsdir: "./js/highlight",
			'highlightjs-theme': 'github',
			stylesdir: './css/',
			stylesheet: 'stylesheet.css',
			'spring-version': '5.2.2.RELEASE'
	])
}
//asciidoctor.dependsOn extractDocResources