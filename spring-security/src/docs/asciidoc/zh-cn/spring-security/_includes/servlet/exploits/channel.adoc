[[ns-requires-channel]]
= HTTPS

== 添加 HTTP/HTTPS 安全通道
如果您的应用程序同时支持HTTP和HTTPS，并且您要求只能通过HTTPS访问特定的URL，则可以直接使用 `<intercept-url>` 上的 `requires-channel` 属性来支持：

[source,xml]
----
<http>
<intercept-url pattern="/secure/**" access="ROLE_USER" requires-channel="https"/>
<intercept-url pattern="/**" access="ROLE_USER" requires-channel="any"/>
...
</http>
----

使用此配置后，如果用户尝试使用HTTP访问与 "/secure/**" 模式匹配的任何内容，则他们将首先被重定向到HTTPS URL footnote:[有关如何实现通道处理的更多详细信息，请参见Javadoc中的 `ChannelProcessingFilter` 和相关类。]。 可用选项为 "http"，"https" 或 "any"。 使用 "any" 意味着可以使用HTTP或HTTPS。

如果您的应用程序对HTTP和/或HTTPS使用非标准端口，则可以指定端口映射列表，如下所示：

[source,xml]
----
<http>
...
<port-mappings>
	<port-mapping http="9080" https="9443"/>
</port-mappings>
</http>
----

请注意，为了真正安全，应用程序不应完全使用HTTP或在HTTP和HTTPS之间切换。 它应该以HTTPS（用户输入HTTPS URL）开始，并在整个过程中使用安全连接，以避免任何中间人攻击的可能性
